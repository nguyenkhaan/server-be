model User {
    id                 Int                @id @default(autoincrement())
    active             Boolean            @default(false)
    name               String
    email              String             @unique
    password           String
    profile_avatr      String?
    date_of_birth      DateTime
    updatedAt          DateTime           @updatedAt
    createdAt          DateTime           @default(now())
    playlist           Playlist[]
    followers          Followers[]
    likes              Likes[]
    userRoles          UserRole[]
    listeningHistories listeningHistory[]
    phone              String             @unique @default("")

    @@index([active])
    @@index([email, phone])
}

model UserRole {
    id     Int  @id @default(autoincrement())
    user   User @relation(fields: [userID], references: [id])
    userID Int
    role   Role
}

model listeningHistory {
    user      User     @relation(fields: [userID], references: [id])
    userID    Int
    track     Track    @relation(fields: [trackID], references: [id])
    trackID   Int
    played_at DateTime

    @@id([userID, trackID])
}
